{
"source_path":"examples/input/api-reference.md",
  "doc_type":"Markdown",
  "metadata":{"total_lines":410,"total_nodes":278},
  "nodes":[
  {
    "kind":{"type":"Heading","level":1},
      "span":{"start":0,"end":16,"line":1,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"API Reference"},
          "span":{"start":0,"end":13,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":17,"end":68,"line":3,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Complete API documentation for the REST endpoints."},
          "span":{"start":0,"end":50,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Toc"},
      "span":{"start":69,"end":77,"line":6,"column":1}
    },
    {
    "kind":{"type":"Heading","level":2},
      "span":{"start":78,"end":90,"line":8,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Overview"},
          "span":{"start":0,"end":8,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":91,"end":130,"line":10,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Base URL: `https://api.example.com/v1`"},
          "span":{"start":0,"end":38,"line":0,"column":0}
        },
        {
        "kind":{"type":"Code","content":"https://api.example.com/v1"},
          "span":{"start":10,"end":38,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":131,"end":181,"line":13,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"All requests must include authentication headers."},
          "span":{"start":0,"end":49,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Alert","alert_type":"IMPORTANT"},
      "span":{"start":182,"end":269,"line":16,"column":1},
      "children":[
      {
        "kind":{"type":"Paragraph"},
          "span":{"start":0,"end":70,"line":1,"column":1},
          "children":[
          {
            "kind":{"type":"Text","content":"API keys should be kept secret and never exposed in client-side code."},
              "span":{"start":0,"end":69,"line":0,"column":0}
            }
          ]
        }
      ]
    },
    {
    "kind":{"type":"Heading","level":2},
      "span":{"start":270,"end":288,"line":19,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Authentication"},
          "span":{"start":0,"end":14,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Heading","level":3},
      "span":{"start":289,"end":316,"line":21,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"API Key Authentication"},
          "span":{"start":0,"end":22,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":317,"end":361,"line":23,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Include your API key in the request header:"},
          "span":{"start":0,"end":43,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"http"},
      "span":{"start":362,"end":414,"line":26,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Authorization: Bearer your_api_key_here\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Heading","level":3},
      "span":{"start":415,"end":429,"line":30,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"OAuth 2.0"},
          "span":{"start":0,"end":9,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":430,"end":473,"line":32,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"For user-scoped operations, use OAuth 2.0:"},
          "span":{"start":0,"end":42,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"javascript","linenumbers":true},
      "span":{"start":474,"end":763,"line":35,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"const response = await fetch(\"/oauth/token\", {\n  method: \"POST\",\n  headers: { \"Content-Type\": \"application/json\" },\n  body: JSON.stringify({\n    grant_type: \"authorization_code\",\n    code: authCode,\n    redirect_uri: \"https://yourapp.com/callback\",\n  }),\n});\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Alert","alert_type":"NOTE"},
      "span":{"start":764,"end":855,"line":47,"column":1},
      "children":[
      {
        "kind":{"type":"Paragraph"},
          "span":{"start":0,"end":79,"line":1,"column":1},
          "children":[
          {
            "kind":{"type":"Text","content":"Access tokens expire after 1 hour. Use refresh tokens for long-lived sessions."},
              "span":{"start":0,"end":78,"line":0,"column":0}
            }
          ]
        }
      ]
    },
    {
    "kind":{"type":"Heading","level":2},
      "span":{"start":856,"end":865,"line":50,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Users"},
          "span":{"start":0,"end":5,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Heading","level":3},
      "span":{"start":866,"end":881,"line":52,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"List Users"},
          "span":{"start":0,"end":10,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"http"},
      "span":{"start":882,"end":905,"line":54,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"GET /users\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":906,"end":928,"line":58,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"**Query Parameters:**"},
          "span":{"start":0,"end":21,"line":0,"column":0}
        },
        {
        "kind":{"type":"Strong"},
          "span":{"start":0,"end":21,"line":0,"column":0},
          "children":[
          {
            "kind":{"type":"Text","content":"Query Parameters:"},
              "span":{"start":0,"end":17,"line":0,"column":0}
            }
          ]
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":929,"end":994,"line":61,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"| Parameter | Type    | Description                            |"},
          "span":{"start":0,"end":64,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":994,"end":1059,"line":63,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"| --------- | ------- | -------------------------------------- |"},
          "span":{"start":0,"end":64,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":1059,"end":1124,"line":65,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"| `page`"},
          "span":{"start":0,"end":8,"line":0,"column":0}
        },
        {
        "kind":{"type":"Code","content":"page"},
          "span":{"start":2,"end":8,"line":0,"column":0}
        },
        {
        "kind":{"type":"Text","content":"    | integer | Page number (default: 1)               |"},
          "span":{"start":8,"end":64,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":1124,"end":1189,"line":67,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"| `limit`"},
          "span":{"start":0,"end":9,"line":0,"column":0}
        },
        {
        "kind":{"type":"Code","content":"limit"},
          "span":{"start":2,"end":9,"line":0,"column":0}
        },
        {
        "kind":{"type":"Text","content":"   | integer | Items per page (default: 20, max: 100) |"},
          "span":{"start":9,"end":64,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":1189,"end":1254,"line":69,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"| `sort`"},
          "span":{"start":0,"end":8,"line":0,"column":0}
        },
        {
        "kind":{"type":"Code","content":"sort"},
          "span":{"start":2,"end":8,"line":0,"column":0}
        },
        {
        "kind":{"type":"Text","content":"    | string  | Sort field (created_at, name, email)   |"},
          "span":{"start":8,"end":64,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":1254,"end":1319,"line":71,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"| `order`"},
          "span":{"start":0,"end":9,"line":0,"column":0}
        },
        {
        "kind":{"type":"Code","content":"order"},
          "span":{"start":2,"end":9,"line":0,"column":0}
        },
        {
        "kind":{"type":"Text","content":"   | string  | Sort order (asc, desc)                 |"},
          "span":{"start":9,"end":64,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":1320,"end":1334,"line":74,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"**Response:**"},
          "span":{"start":0,"end":13,"line":0,"column":0}
        },
        {
        "kind":{"type":"Strong"},
          "span":{"start":0,"end":13,"line":0,"column":0},
          "children":[
          {
            "kind":{"type":"Text","content":"Response:"},
              "span":{"start":0,"end":9,"line":0,"column":0}
            }
          ]
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"json","highlight":"3-8","linenumbers":true},
      "span":{"start":1335,"end":1603,"line":77,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"{\n  \"data\": [\n    {\n      \"id\": \"usr_123abc\",\n      \"email\": \"user@example.com\",\n      \"name\": \"John Doe\",\n      \"created_at\": \"2024-01-15T10:30:00Z\"\n    }\n  ],\n  \"meta\": {\n    \"total\": 150,\n    \"page\": 1,\n    \"limit\": 20\n  }\n}\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Heading","level":3},
      "span":{"start":1604,"end":1617,"line":95,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Get User"},
          "span":{"start":0,"end":8,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"http"},
      "span":{"start":1618,"end":1646,"line":97,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"GET /users/{id}\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":1647,"end":1668,"line":101,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"**Path Parameters:**"},
          "span":{"start":0,"end":20,"line":0,"column":0}
        },
        {
        "kind":{"type":"Strong"},
          "span":{"start":0,"end":20,"line":0,"column":0},
          "children":[
          {
            "kind":{"type":"Text","content":"Path Parameters:"},
              "span":{"start":0,"end":16,"line":0,"column":0}
            }
          ]
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":1669,"end":1706,"line":104,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"| Parameter | Type   | Description |"},
          "span":{"start":0,"end":36,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":1706,"end":1743,"line":106,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"| --------- | ------ | ----------- |"},
          "span":{"start":0,"end":36,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":1743,"end":1780,"line":108,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"| `id`"},
          "span":{"start":0,"end":6,"line":0,"column":0}
        },
        {
        "kind":{"type":"Code","content":"id"},
          "span":{"start":2,"end":6,"line":0,"column":0}
        },
        {
        "kind":{"type":"Text","content":"      | string | User ID     |"},
          "span":{"start":6,"end":36,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":1781,"end":1795,"line":111,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"**Response:**"},
          "span":{"start":0,"end":13,"line":0,"column":0}
        },
        {
        "kind":{"type":"Strong"},
          "span":{"start":0,"end":13,"line":0,"column":0},
          "children":[
          {
            "kind":{"type":"Text","content":"Response:"},
              "span":{"start":0,"end":9,"line":0,"column":0}
            }
          ]
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"json","linenumbers":true},
      "span":{"start":1796,"end":1997,"line":114,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"{\n  \"id\": \"usr_123abc\",\n  \"email\": \"user@example.com\",\n  \"name\": \"John Doe\",\n  \"role\": \"admin\",\n  \"created_at\": \"2024-01-15T10:30:00Z\",\n  \"updated_at\": \"2024-01-20T15:45:00Z\"\n}\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Alert","alert_type":"TIP"},
      "span":{"start":1998,"end":2119,"line":125,"column":1},
      "children":[
      {
        "kind":{"type":"Paragraph"},
          "span":{"start":0,"end":63,"line":1,"column":1},
          "children":[
          {
            "kind":{"type":"Text","content":"Use the `expand`"},
              "span":{"start":0,"end":16,"line":0,"column":0}
            },
            {
            "kind":{"type":"Code","content":"expand"},
              "span":{"start":8,"end":16,"line":0,"column":0}
            },
            {
            "kind":{"type":"Text","content":" query parameter to include related resources:"},
              "span":{"start":16,"end":62,"line":0,"column":0}
            }
          ]
        },
        {
        "kind":{"type":"Paragraph"},
          "span":{"start":63,"end":108,"line":3,"column":1},
          "children":[
          {
            "kind":{"type":"Text","content":"`GET /users/usr_123?expand=orders,addresses`"},
              "span":{"start":0,"end":44,"line":0,"column":0}
            },
            {
            "kind":{"type":"Code","content":"GET /users/usr_123?expand=orders,addresses"},
              "span":{"start":0,"end":44,"line":0,"column":0}
            }
          ]
        }
      ]
    },
    {
    "kind":{"type":"Heading","level":3},
      "span":{"start":2120,"end":2136,"line":129,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Create User"},
          "span":{"start":0,"end":11,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"http"},
      "span":{"start":2137,"end":2161,"line":131,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"POST /users\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":2162,"end":2180,"line":135,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"**Request Body:**"},
          "span":{"start":0,"end":17,"line":0,"column":0}
        },
        {
        "kind":{"type":"Strong"},
          "span":{"start":0,"end":17,"line":0,"column":0},
          "children":[
          {
            "kind":{"type":"Text","content":"Request Body:"},
              "span":{"start":0,"end":13,"line":0,"column":0}
            }
          ]
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"json","linenumbers":true},
      "span":{"start":2181,"end":2323,"line":138,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"{\n  \"email\": \"newuser@example.com\",\n  \"name\": \"Jane Smith\",\n  \"password\": \"secure_password_123\",\n  \"role\": \"member\"\n}\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":2324,"end":2352,"line":147,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"**Response:**"},
          "span":{"start":0,"end":13,"line":0,"column":0}
        },
        {
        "kind":{"type":"Strong"},
          "span":{"start":0,"end":13,"line":0,"column":0},
          "children":[
          {
            "kind":{"type":"Text","content":"Response:"},
              "span":{"start":0,"end":9,"line":0,"column":0}
            }
          ]
        },
        {
        "kind":{"type":"Text","content":" `201 Created`"},
          "span":{"start":13,"end":27,"line":0,"column":0}
        },
        {
        "kind":{"type":"Code","content":"201 Created"},
          "span":{"start":14,"end":27,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"json"},
      "span":{"start":2353,"end":2508,"line":150,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"{\n  \"id\": \"usr_456def\",\n  \"email\": \"newuser@example.com\",\n  \"name\": \"Jane Smith\",\n  \"role\": \"member\",\n  \"created_at\": \"2024-01-25T08:00:00Z\"\n}\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Alert","alert_type":"WARNING"},
      "span":{"start":2509,"end":2675,"line":160,"column":1},
      "children":[
      {
        "kind":{"type":"Paragraph"},
          "span":{"start":0,"end":54,"line":1,"column":1},
          "children":[
          {
            "kind":{"type":"Text","content":"Passwords must be at least 12 characters and include:"},
              "span":{"start":0,"end":53,"line":0,"column":0}
            }
          ]
        },
        {
        "kind":{"type":"List","ordered":false,"tight":true},
          "span":{"start":55,"end":144,"line":0,"column":0},
          "children":[
          {
            "kind":{"type":"ListItem","marker":"Bullet('-')"},
              "span":{"start":57,"end":89,"line":0,"column":0},
              "children":[
              {
                "kind":{"type":"Paragraph"},
                  "span":{"start":0,"end":0,"line":0,"column":0},
                  "children":[
                  {
                    "kind":{"type":"Text","content":"Uppercase and lowercase letters"},
                      "span":{"start":0,"end":31,"line":0,"column":0}
                    }
                  ]
                }
              ]
            },
            {
            "kind":{"type":"ListItem","marker":"Bullet('-')"},
              "span":{"start":91,"end":111,"line":0,"column":0},
              "children":[
              {
                "kind":{"type":"Paragraph"},
                  "span":{"start":0,"end":0,"line":0,"column":0},
                  "children":[
                  {
                    "kind":{"type":"Text","content":"At least one number"},
                      "span":{"start":0,"end":19,"line":0,"column":0}
                    }
                  ]
                }
              ]
            },
            {
            "kind":{"type":"ListItem","marker":"Bullet('-')"},
              "span":{"start":113,"end":144,"line":0,"column":0},
              "children":[
              {
                "kind":{"type":"Paragraph"},
                  "span":{"start":0,"end":0,"line":0,"column":0},
                  "children":[
                  {
                    "kind":{"type":"Text","content":"At least one special character"},
                      "span":{"start":0,"end":30,"line":0,"column":0}
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
    "kind":{"type":"Heading","level":3},
      "span":{"start":2676,"end":2692,"line":167,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Update User"},
          "span":{"start":0,"end":11,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"http"},
      "span":{"start":2693,"end":2723,"line":169,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"PATCH /users/{id}\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":2724,"end":2742,"line":173,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"**Request Body:**"},
          "span":{"start":0,"end":17,"line":0,"column":0}
        },
        {
        "kind":{"type":"Strong"},
          "span":{"start":0,"end":17,"line":0,"column":0},
          "children":[
          {
            "kind":{"type":"Text","content":"Request Body:"},
              "span":{"start":0,"end":13,"line":0,"column":0}
            }
          ]
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"json"},
      "span":{"start":2743,"end":2799,"line":176,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"{\n  \"name\": \"Jane Doe\",\n  \"role\": \"admin\"\n}\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Alert","alert_type":"CAUTION"},
      "span":{"start":2800,"end":2920,"line":183,"column":1},
      "children":[
      {
        "kind":{"type":"Paragraph"},
          "span":{"start":0,"end":61,"line":1,"column":1},
          "children":[
          {
            "kind":{"type":"Text","content":"Changing a user's role may affect their access to resources."},
              "span":{"start":0,"end":60,"line":0,"column":0}
            }
          ]
        },
        {
        "kind":{"type":"Paragraph"},
          "span":{"start":61,"end":103,"line":3,"column":1},
          "children":[
          {
            "kind":{"type":"Text","content":"This action is logged for audit purposes."},
              "span":{"start":0,"end":41,"line":0,"column":0}
            }
          ]
        }
      ]
    },
    {
    "kind":{"type":"Heading","level":3},
      "span":{"start":2921,"end":2937,"line":187,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Delete User"},
          "span":{"start":0,"end":11,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"http"},
      "span":{"start":2938,"end":2969,"line":189,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"DELETE /users/{id}\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":2970,"end":3001,"line":193,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"**Response:**"},
          "span":{"start":0,"end":13,"line":0,"column":0}
        },
        {
        "kind":{"type":"Strong"},
          "span":{"start":0,"end":13,"line":0,"column":0},
          "children":[
          {
            "kind":{"type":"Text","content":"Response:"},
              "span":{"start":0,"end":9,"line":0,"column":0}
            }
          ]
        },
        {
        "kind":{"type":"Text","content":" `204 No Content`"},
          "span":{"start":13,"end":30,"line":0,"column":0}
        },
        {
        "kind":{"type":"Code","content":"204 No Content"},
          "span":{"start":14,"end":30,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Heading","level":2},
      "span":{"start":3002,"end":3012,"line":196,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Orders"},
          "span":{"start":0,"end":6,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Heading","level":3},
      "span":{"start":3013,"end":3033,"line":198,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Order Lifecycle"},
          "span":{"start":0,"end":15,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Steps"},
      "span":{"start":3034,"end":3232,"line":200,"column":1}
    },
    {
    "kind":{"type":"Heading","level":3},
      "span":{"start":3233,"end":3250,"line":207,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Create Order"},
          "span":{"start":0,"end":12,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"http"},
      "span":{"start":3251,"end":3276,"line":209,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"POST /orders\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":3277,"end":3295,"line":213,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"**Request Body:**"},
          "span":{"start":0,"end":17,"line":0,"column":0}
        },
        {
        "kind":{"type":"Strong"},
          "span":{"start":0,"end":17,"line":0,"column":0},
          "children":[
          {
            "kind":{"type":"Text","content":"Request Body:"},
              "span":{"start":0,"end":13,"line":0,"column":0}
            }
          ]
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"json","highlight":"4-12","linenumbers":true},
      "span":{"start":3296,"end":3746,"line":216,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"{\n  \"user_id\": \"usr_123abc\",\n  \"currency\": \"USD\",\n  \"items\": [\n    {\n      \"product_id\": \"prod_abc123\",\n      \"quantity\": 2,\n      \"unit_price\": 1999\n    },\n    {\n      \"product_id\": \"prod_def456\",\n      \"quantity\": 1,\n      \"unit_price\": 4999\n    }\n  ],\n  \"shipping_address\": {\n    \"line1\": \"123 Main St\",\n    \"city\": \"San Francisco\",\n    \"state\": \"CA\",\n    \"postal_code\": \"94102\",\n    \"country\": \"US\"\n  }\n}\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Alert","alert_type":"NOTE"},
      "span":{"start":3747,"end":3828,"line":242,"column":1},
      "children":[
      {
        "kind":{"type":"Paragraph"},
          "span":{"start":0,"end":46,"line":1,"column":1},
          "children":[
          {
            "kind":{"type":"Text","content":"Prices are in cents (smallest currency unit)."},
              "span":{"start":0,"end":45,"line":0,"column":0}
            }
          ]
        },
        {
        "kind":{"type":"Paragraph"},
          "span":{"start":46,"end":67,"line":3,"column":1},
          "children":[
          {
            "kind":{"type":"Text","content":"$19.99 = 1999 cents."},
              "span":{"start":0,"end":20,"line":0,"column":0}
            }
          ]
        }
      ]
    },
    {
    "kind":{"type":"Heading","level":4},
      "span":{"start":3829,"end":3851,"line":246,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Pending â†’ Paid"},
          "span":{"start":0,"end":16,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"http"},
      "span":{"start":3852,"end":3886,"line":248,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"POST /orders/{id}/pay\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"json"},
      "span":{"start":3887,"end":3959,"line":252,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"{\n  \"payment_method_id\": \"pm_card_visa\",\n  \"amount\": 8997\n}\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Heading","level":4},
      "span":{"start":3960,"end":3982,"line":259,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Paid â†’ Shipped"},
          "span":{"start":0,"end":16,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"http"},
      "span":{"start":3983,"end":4018,"line":261,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"POST /orders/{id}/ship\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"json"},
      "span":{"start":4019,"end":4097,"line":265,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"{\n  \"carrier\": \"ups\",\n  \"tracking_number\": \"1Z999AA10123456784\"\n}\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Heading","level":4},
      "span":{"start":4098,"end":4116,"line":272,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Cancel Order"},
          "span":{"start":0,"end":12,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"http"},
      "span":{"start":4117,"end":4154,"line":274,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"POST /orders/{id}/cancel\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"json"},
      "span":{"start":4155,"end":4220,"line":278,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"{\n  \"reason\": \"customer_request\",\n  \"refund\": true\n}\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Heading","level":2},
      "span":{"start":4221,"end":4233,"line":285,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Webhooks"},
          "span":{"start":0,"end":8,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Heading","level":3},
      "span":{"start":4234,"end":4258,"line":287,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Setting Up Webhooks"},
          "span":{"start":0,"end":19,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":4259,"end":4316,"line":289,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Register a webhook endpoint to receive real-time events:"},
          "span":{"start":0,"end":56,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"http"},
      "span":{"start":4317,"end":4344,"line":292,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"POST /webhooks\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"json","linenumbers":true},
      "span":{"start":4345,"end":4540,"line":296,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"{\n  \"url\": \"https://yourapp.com/webhooks/handler\",\n  \"events\": [\"order.created\", \"order.paid\", \"order.shipped\", \"user.created\"],\n  \"secret\": \"whsec_your_webhook_secret\"\n}\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Heading","level":3},
      "span":{"start":4541,"end":4561,"line":304,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Webhook Payload"},
          "span":{"start":0,"end":15,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"json","highlight":"2,7-10","linenumbers":true},
      "span":{"start":4562,"end":4833,"line":306,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"{\n  \"id\": \"evt_1234567890\",\n  \"type\": \"order.paid\",\n  \"created_at\": \"2024-01-25T10:30:00Z\",\n  \"data\": {\n    \"object\": {\n      \"id\": \"ord_abc123\",\n      \"status\": \"paid\",\n      \"amount\": 8997,\n      \"currency\": \"USD\"\n    }\n  }\n}\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Heading","level":3},
      "span":{"start":4834,"end":4859,"line":322,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Verifying Signatures"},
          "span":{"start":0,"end":20,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":4860,"end":4894,"line":324,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Always verify webhook signatures:"},
          "span":{"start":0,"end":33,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"javascript","highlight":"5-8","linenumbers":true},
      "span":{"start":4895,"end":5212,"line":327,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"const crypto = require(\"crypto\");\n\nfunction verifyWebhook(payload, signature, secret) {\n  const expected = crypto\n    .createHmac(\"sha256\", secret)\n    .update(payload)\n    .digest(\"hex\");\n  return crypto.timingSafeEqual(Buffer.from(signature), Buffer.from(expected));\n}\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Alert","alert_type":"IMPORTANT"},
      "span":{"start":5213,"end":5341,"line":339,"column":1},
      "children":[
      {
        "kind":{"type":"Paragraph"},
          "span":{"start":0,"end":67,"line":1,"column":1},
          "children":[
          {
            "kind":{"type":"Text","content":"Always use constant-time comparison (`timingSafeEqual`"},
              "span":{"start":0,"end":54,"line":0,"column":0}
            },
            {
            "kind":{"type":"Code","content":"timingSafeEqual"},
              "span":{"start":37,"end":54,"line":0,"column":0}
            },
            {
            "kind":{"type":"Text","content":") to prevent"},
              "span":{"start":54,"end":66,"line":0,"column":0}
            }
          ]
        },
        {
        "kind":{"type":"Paragraph"},
          "span":{"start":67,"end":109,"line":3,"column":1},
          "children":[
          {
            "kind":{"type":"Text","content":"timing attacks when verifying signatures."},
              "span":{"start":0,"end":41,"line":0,"column":0}
            }
          ]
        }
      ]
    },
    {
    "kind":{"type":"Heading","level":2},
      "span":{"start":5342,"end":5360,"line":343,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Error Handling"},
          "span":{"start":0,"end":14,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Heading","level":3},
      "span":{"start":5361,"end":5387,"line":345,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Error Response Format"},
          "span":{"start":0,"end":21,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"json","linenumbers":true},
      "span":{"start":5388,"end":5660,"line":347,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"{\n  \"error\": {\n    \"code\": \"invalid_request\",\n    \"message\": \"The request body is missing required field: email\",\n    \"details\": [\n      {\n        \"field\": \"email\",\n        \"issue\": \"required\"\n      }\n    ],\n    \"request_id\": \"req_abc123xyz\"\n  }\n}\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Heading","level":3},
      "span":{"start":5661,"end":5677,"line":363,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Error Codes"},
          "span":{"start":0,"end":11,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":5678,"end":5747,"line":365,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"| Code                    | HTTP Status | Description              |"},
          "span":{"start":0,"end":68,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":5747,"end":5816,"line":367,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"| ----------------------- | ----------- | ------------------------ |"},
          "span":{"start":0,"end":68,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":5816,"end":5885,"line":369,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"| `invalid_request`"},
          "span":{"start":0,"end":19,"line":0,"column":0}
        },
        {
        "kind":{"type":"Code","content":"invalid_request"},
          "span":{"start":2,"end":19,"line":0,"column":0}
        },
        {
        "kind":{"type":"Text","content":"       | 400         | Malformed request        |"},
          "span":{"start":19,"end":68,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":5885,"end":5954,"line":371,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"| `authentication_failed`"},
          "span":{"start":0,"end":25,"line":0,"column":0}
        },
        {
        "kind":{"type":"Code","content":"authentication_failed"},
          "span":{"start":2,"end":25,"line":0,"column":0}
        },
        {
        "kind":{"type":"Text","content":" | 401         | Invalid credentials      |"},
          "span":{"start":25,"end":68,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":5954,"end":6023,"line":373,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"| `permission_denied`"},
          "span":{"start":0,"end":21,"line":0,"column":0}
        },
        {
        "kind":{"type":"Code","content":"permission_denied"},
          "span":{"start":2,"end":21,"line":0,"column":0}
        },
        {
        "kind":{"type":"Text","content":"     | 403         | Insufficient permissions |"},
          "span":{"start":21,"end":68,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":6023,"end":6092,"line":375,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"| `not_found`"},
          "span":{"start":0,"end":13,"line":0,"column":0}
        },
        {
        "kind":{"type":"Code","content":"not_found"},
          "span":{"start":2,"end":13,"line":0,"column":0}
        },
        {
        "kind":{"type":"Text","content":"             | 404         | Resource doesn't exist   |"},
          "span":{"start":13,"end":68,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":6092,"end":6161,"line":377,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"| `rate_limited`"},
          "span":{"start":0,"end":16,"line":0,"column":0}
        },
        {
        "kind":{"type":"Code","content":"rate_limited"},
          "span":{"start":2,"end":16,"line":0,"column":0}
        },
        {
        "kind":{"type":"Text","content":"          | 429         | Too many requests        |"},
          "span":{"start":16,"end":68,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":6161,"end":6230,"line":379,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"| `internal_error`"},
          "span":{"start":0,"end":18,"line":0,"column":0}
        },
        {
        "kind":{"type":"Code","content":"internal_error"},
          "span":{"start":2,"end":18,"line":0,"column":0}
        },
        {
        "kind":{"type":"Text","content":"        | 500         | Server error             |"},
          "span":{"start":18,"end":68,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Heading","level":2},
      "span":{"start":6231,"end":6248,"line":382,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Rate Limiting"},
          "span":{"start":0,"end":13,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":6249,"end":6292,"line":384,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"API requests are rate limited per API key:"},
          "span":{"start":0,"end":42,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":6293,"end":6341,"line":387,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"| Plan       | Requests/minute | Requests/day |"},
          "span":{"start":0,"end":47,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":6341,"end":6389,"line":389,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"| ---------- | --------------- | ------------ |"},
          "span":{"start":0,"end":47,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":6389,"end":6437,"line":391,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"| Free       | 60              | 1,000        |"},
          "span":{"start":0,"end":47,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":6437,"end":6485,"line":393,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"| Pro        | 600             | 50,000       |"},
          "span":{"start":0,"end":47,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":6485,"end":6533,"line":395,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"| Enterprise | 6,000           | Unlimited    |"},
          "span":{"start":0,"end":47,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Paragraph"},
      "span":{"start":6534,"end":6554,"line":398,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"Rate limit headers:"},
          "span":{"start":0,"end":19,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"CodeBlock","language":"http"},
      "span":{"start":6555,"end":6645,"line":401,"column":1},
      "children":[
      {
        "kind":{"type":"Text","content":"X-RateLimit-Limit: 60\nX-RateLimit-Remaining: 45\nX-RateLimit-Reset: 1706180400\n"},
          "span":{"start":0,"end":0,"line":0,"column":0}
        }
      ]
    },
    {
    "kind":{"type":"Alert","alert_type":"TIP"},
      "span":{"start":6646,"end":6779,"line":407,"column":1},
      "children":[
      {
        "kind":{"type":"Paragraph"},
          "span":{"start":0,"end":63,"line":1,"column":1},
          "children":[
          {
            "kind":{"type":"Text","content":"Implement exponential backoff when you receive a 429 response."},
              "span":{"start":0,"end":62,"line":0,"column":0}
            }
          ]
        },
        {
        "kind":{"type":"Paragraph"},
          "span":{"start":63,"end":120,"line":3,"column":1},
          "children":[
          {
            "kind":{"type":"Text","content":"Start with a 1-second delay and double it on each retry."},
              "span":{"start":0,"end":56,"line":0,"column":0}
            }
          ]
        }
      ]
    }
  ]
}